
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Page Title</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" media="screen" href="css/main.css">

<link rel="manifest" href="manifest.json">
</head>
<body>
<h1>Welcome to PWA</h1>
<p>testing PWA</p>
	<button id="removeEvent">Remove Event</button>
<button id="addEvent">Add Event</button>
<script>
    if ('serviceWorker' in navigator) {
        
	document.getElementById('addEvent').addEventListener("click", function(){
		alert('addd');
		console.log("Will the service worker register?");
		navigator.serviceWorker.register('sw.js')
		.then(function(reg){
		    console.log("Yes, it did.");
		}).catch(function(err) {
		    console.log("No it didn't. This happened: ", err)
		});
	});
	document.getElementById('removeEvent').addEventListener("click", function(){
		alert('addd');
		navigator.serviceWorker.getRegistrations().then(
		    function(registrations) {
			    console.log('registrations>>>',registrations)
			for(let registration of registrations) {  
			    registration.unregister();

			}

		});
	});
	

    } 
    /*var deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
	    alert('test')
      // Prevent Chrome 67 and earlier from automatically showing the prompt
      e.preventDefault();
	
      // Stash the event so it can be triggered later.
      deferredPrompt = e;
    });*/
	
	
    </script>
</body>
</html>
